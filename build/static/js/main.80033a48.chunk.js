(this.webpackJsonpfitnesstracker=this.webpackJsonpfitnesstracker||[]).push([[0],{32:function(e,t,n){"use strict";n.r(t);var r=n(2),c=n.n(r),a=n(3),s=n(4),o=n(1),i=n(19),u=n.n(i),l=n(7),p=n(5),j=n(0),b="https://fitnesstrac-kr.herokuapp.com/api/",h=function(e){localStorage.setItem("token",e)},d=localStorage.getItem("token"),v=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://fitnesstrac-kr.herokuapp.com/api/users/register",e.prev=1,e.next=4,fetch("https://fitnesstrac-kr.herokuapp.com/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 4:return r=e.sent,e.next=7,r.json();case 7:return(a=e.sent).token&&(alert("You have successfully registered!"),h(a.token),location.reload(),localStorage.getItem("token")&&p.a),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(1),console.error("Error Message:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t,n){return e.apply(this,arguments)}}(),f=function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://fitnesstrac-kr.herokuapp.com/api/users/login",e.prev=1,e.next=4,fetch("https://fitnesstrac-kr.herokuapp.com/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:t,password:n})});case 4:return r=e.sent,e.next=7,r.json();case 7:return(a=e.sent).token&&(alert("You have successfully logged in!"),h(a.token)),e.abrupt("return",a);case 12:e.prev=12,e.t0=e.catch(1),console.error("Error Message:",e.t0);case 15:return e.prev=15,p.a,location.reload(),e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[1,12,15,19]])})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"users/").concat(t,"/routines"),{headers:{"Content-Type":"application/json"}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"routines"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"routines"),{headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"activities"),{headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r,a){var s,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n,r,a),e.prev=1,e.next=4,fetch("".concat(b,"routines/").concat(t,"/activities"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({activityId:n,count:r,duration:a})});case 4:return s=e.sent,e.next=7,s.json();case 7:return o=e.sent,e.abrupt("return",o);case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t,n,r,c){return e.apply(this,arguments)}}(),w=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a,s,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},console.log(n),console.log(r),console.log(t),s=prompt("What would you like to change the name to?",t),o=prompt("What would you like to change the goal to?",n),s&&(a.name=s),o&&(a.goal=o),console.log(r),e.prev=9,e.next=12,fetch("".concat(b,"routines/").concat(r),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)},body:JSON.stringify(a)});case 12:return i=e.sent,e.next=15,i.json();case 15:return u=e.sent,e.abrupt("return",u);case 19:e.prev=19,e.t0=e.catch(9),alert(e.t0);case 22:case"end":return e.stop()}}),e,null,[[9,19]])})));return function(t,n,r){return e.apply(this,arguments)}}(),S=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){var a,s,o,i,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return{},console.log(t),console.log(n),console.log(r),s=prompt("What would you like to change the count?",n),o=prompt("What would you like to change the duration?",r),a={count:s,duration:o},console.log(a),e.prev=8,e.next=11,fetch("".concat(b,"/routine_activities/").concat(t),{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)},body:JSON.stringify(a)});case 11:return i=e.sent,e.next=14,i.json();case 14:return u=e.sent,e.abrupt("return",u);case 18:e.prev=18,e.t0=e.catch(8),alert(e.t0);case 21:case"end":return e.stop()}}),e,null,[[8,18]])})));return function(t,n,r){return e.apply(this,arguments)}}(),C=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"/routine_activities/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(d),e.prev=2,e.next=5,fetch("".concat(b,"/routines/").concat(t),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)}});case 5:return n=e.sent,e.next=8,n.json();case 8:return r=e.sent,e.abrupt("return",r);case 12:e.prev=12,e.t0=e.catch(2),alert(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(b,"activities"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(d)},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.abrupt("return",r);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),A=function(e){e.setIsLoggedIn;var t=Object(o.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1],u=Object(o.useState)(""),l=Object(s.a)(u,2),b=l[0],h=l[1];return Object(j.jsxs)("form",{className:"register",onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsx)("h1",{children:"Register:"}),Object(j.jsx)("label",{children:"Username:"}),Object(j.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)},placeholder:""}),Object(j.jsx)("label",{children:"Password:"}),Object(j.jsx)("input",{type:"password",value:b,onChange:function(e){return h(e.target.value)},placeholder:""}),Object(j.jsx)("button",{onClick:function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,v(r,b);case 4:if(!e.sent.error){e.next=9;break}alert("There was an error registering..."),e.next=10;break;case 9:return e.abrupt("return",Object(j.jsx)(p.a,{to:"/"}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),children:"Register"})]})},I=function(e){e.setIsLoggedIn,e.message,e.setMessage;var t=Object(o.useState)(""),n=Object(s.a)(t,2),r=n[0],i=n[1],u=Object(o.useState)(""),l=Object(s.a)(u,2),b=l[0],h=l[1];return Object(j.jsxs)("form",{className:"login",onSubmit:function(e){return e.preventDefault()},children:[Object(j.jsx)("h1",{children:"Login:"}),Object(j.jsx)("label",{children:"Username:"}),Object(j.jsx)("input",{type:"text",value:r,onChange:function(e){return i(e.target.value)},placeholder:""}),Object(j.jsx)("label",{children:"Password:"}),Object(j.jsx)("input",{type:"password",value:b,onChange:function(e){return h(e.target.value)},placeholder:""}),Object(j.jsx)("button",{onClick:function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,f(r,b);case 4:if(!e.sent.error){e.next=9;break}alert("There was an error logging in..."),e.next=10;break;case 9:return e.abrupt("return",Object(j.jsx)(p.a,{to:"/"}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),children:"Login"})]})},D=function(){return Object(j.jsx)("div",{children:Object(j.jsx)("h1",{children:"Welcome to Fitness Tracker"})})},L=n(11),R=function(e){var t=e.activities,n=e.isLoggedIn,r=e.setActivities,i=Object(o.useState)(),u=Object(s.a)(i,2),l=u[0],p=u[1],b=function(){var e=Object(a.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),e.next=4,T(l);case 4:if(n=e.sent,console.log(n),!n.id){e.next=15;break}return alert("sucess creating activity"),e.t0=r,e.next=11,k();case 11:e.t1=e.sent,(0,e.t0)(e.t1),e.next=16;break;case 15:return e.abrupt("return",alert(n.message));case 16:e.next=21;break;case 18:e.prev=18,e.t2=e.catch(0),console.error(e.t2);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{children:[n?Object(j.jsxs)("form",{onSubmit:b,children:[Object(j.jsx)("h2",{children:"Create an Activity:"}),Object(j.jsx)("label",{children:"Activity Name:"}),Object(j.jsx)("input",{name:"Name",required:!0,onChange:function(e){return p(Object(L.a)(Object(L.a)({},l),{},{name:e.target.value}))}}),Object(j.jsx)("label",{children:"Description:"}),Object(j.jsx)("input",{type:"Description",required:!0,onChange:function(e){return p(Object(L.a)(Object(L.a)({},l),{},{description:e.target.value}))}}),Object(j.jsx)("button",{type:"submit",children:"submit"})]}):null,Object(j.jsx)("h1",{children:"Activities"}),null===t||void 0===t?void 0:t.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsxs)("h2",{children:["Activity: ",e.name]}),Object(j.jsx)("span",{children:"Description:"}),Object(j.jsx)("span",{children:e.description})]},t)}))]})},E=function(){var e=Object(o.useState)(),t=Object(s.a)(e,2),n=t[0],r=t[1],i=function(){var e=Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g();case 3:t=e.sent,r(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(i,[]),Object(j.jsxs)("div",{children:[Object(j.jsx)("h1",{children:"Welcome to Routines"}),Object(j.jsx)("div",{className:"results",children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(j.jsxs)("div",{className:"listing",children:[Object(j.jsx)("hr",{}),Object(j.jsxs)("h2",{children:["Routine:",e.name]}),Object(j.jsxs)("h3",{children:["Created by ",e.creatorName]}),Object(j.jsxs)("h4",{children:["Goal:",e.goal]}),e.activities[0]?e.activities.map((function(e,t){return Object(j.jsx)("h6",{children:Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["Activity: ",e.name]}),Object(j.jsxs)("li",{children:["Description: ",e.description]}),Object(j.jsxs)("li",{children:["Duration:",e.duration]}),Object(j.jsxs)("li",{children:["Count:",e.count]})]})},t)})):Object(j.jsx)("b",{children:"No activities have been added to this routine"})]},t)}))})]})},B=function(e){e.setDisplayMessage,e.setIsShown,e.isLoggedIn;var t=Object(o.useState)(),n=Object(s.a)(t,2),r=n[0],i=n[1],u=Object(o.useState)(!1),l=Object(s.a)(u,2),b=l[0],h=l[1];return Object(o.useEffect)(Object(a.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=16;break}return e.prev=1,e.next=4,m(r);case 4:t=e.sent,console.log(t),h(!0),alert("Sucessfully Created a Routine!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error(e.t0);case 13:return e.prev=13,p.a,e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[1,10,13,16]])}))),[r]),b?Object(j.jsx)(p.a,{to:"/"}):Object(j.jsxs)("div",{className:"makeRoutine",children:[Object(j.jsx)("h2",{children:"Create a Routine:"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=Object(s.a)(e.target,2),n=t[0],r=t[1];if(n.value&&r.value){var c={name:n.value,goal:r.value,isPublic:!0};i(c)}else alert("Make sure all fields are filled in...")},children:[Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Name:"}),Object(j.jsx)("input",{type:"text",placeholder:"Name"})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Goal"}),Object(j.jsx)("input",{type:"text",placeholder:"Goal"})]}),Object(j.jsx)("button",{className:"submitButton",type:"submit",children:"Submit"})]})]})},P=function(e){var t=e.currentUser,n=e.activities,r=Object(o.useState)(),i=Object(s.a)(r,2),u=i[0],p=i[1],b=Object(o.useState)(),h=Object(s.a)(b,2),d=h[0],v=h[1],f=Object(o.useState)(),x=Object(s.a)(f,2),m=x[0],g=x[1],k=Object(o.useState)(),T=Object(s.a)(k,2),A=T[0],I=T[1],D=Object(o.useState)(1),R=Object(s.a)(D,2),E=R[0],B=R[1],P=function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=m.duration,r=m.count,e.prev=2,e.next=5,y(A,d,r,n);case 5:if(a=e.sent,console.log(a),a.id){e.next=9;break}return e.abrupt("return",alert("Something went wrong"));case 9:I(null),g(null),v(null),B(E+1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t,n,r);case 3:e.sent,location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),U=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t);case 3:e.sent,location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,C(t);case 4:e.sent,location.reload(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(a.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S(t,n,r);case 3:e.sent,location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),W=function(){var e=Object(a.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&n){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,O(t);case 5:r=e.sent,p(r),console.log(r),console.log(n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(){return e.apply(this,arguments)}}();return Object(o.useEffect)(W,[t,n,E]),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h1",{children:["Welcome ",t]}),Object(j.jsx)(l.b,{className:"MakeRoutineLink",to:"/createRoutine",children:"Create a Routine"}),u?null===u||void 0===u?void 0:u.map((function(e,t){return Object(j.jsxs)("div",{children:[Object(j.jsx)("h2",{children:e.name}),Object(j.jsx)("h3",{children:e.goal}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{type:"button",onClick:function(){return J(e.name,e.goal,e.id)},children:"Update Routine Name or Goal"}),Object(j.jsx)("button",{type:"button",onClick:function(){return U(e.id)},children:"Delete"})]}),e.activities[0]?e.activities.map((function(e,t){return Object(j.jsxs)("ul",{children:[Object(j.jsxs)("li",{children:["Activity: ",e.name]}),Object(j.jsxs)("li",{children:["ID: ",e.routineActivityId]}),Object(j.jsxs)("li",{children:["Description: ",e.description]}),Object(j.jsxs)("li",{children:["Duration:",e.duration]}),Object(j.jsxs)("li",{children:["Count:",e.count," "]}),Object(j.jsx)("button",{type:"button",onClick:function(){return M(e.routineActivityId,e.duration,e.count)},children:"Update"}),Object(j.jsx)("button",{type:"button",onClick:function(){return z(e.routineActivityId)},children:"Delete"})]},t)})):Object(j.jsx)("div",{children:"No activities have been added to this routine"}),Object(j.jsxs)("form",{onSubmit:P,children:[Object(j.jsx)("label",{children:"Add Activity to this Routine"}),Object(j.jsxs)("select",{name:"Activities",id:"select-activity",value:d,onChange:function(t){I(e.id),v(t.target.value)},children:[Object(j.jsx)("option",{value:"null",children:"Select an activity to add"}),n.map((function(e,t){return Object(j.jsx)("option",{value:e.id,children:e.name},t)}))]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Count"}),Object(j.jsx)("input",{type:"number",min:"1",placeholder:"Count",onChange:function(e){return g(Object(L.a)(Object(L.a)({},m),{},{count:e.target.value}))}})]}),Object(j.jsxs)("div",{children:[Object(j.jsx)("label",{children:"Duration"}),Object(j.jsx)("input",{type:"number",min:"1",placeholder:"Duration",onChange:function(e){return g(Object(L.a)(Object(L.a)({},m),{},{duration:e.target.value}))}})]}),Object(j.jsx)("button",{className:"submitButton",type:"submit",children:"Submit"})]})]},t)})):Object(j.jsx)("h2",{children:"Looks like you don't have any routines"})]})},J=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(o.useState)(""),u=Object(s.a)(i,2),b=(u[0],u[1],Object(o.useState)({})),h=Object(s.a)(b,2),d=(h[0],h[1],Object(o.useState)(null)),v=Object(s.a)(d,2),f=v[0],O=v[1],m=Object(o.useState)(!1),g=Object(s.a)(m,2),y=(g[0],g[1],Object(o.useState)("")),w=Object(s.a)(y,2),S=w[0],C=w[1];return Object(o.useEffect)((function(){localStorage.getItem("token")&&r(!0)}),[r]),Object(o.useEffect)(Object(a.a)(c.a.mark((function e(){var t,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=15;break}return e.prev=1,e.next=4,x();case 4:return t=e.sent,C(t.username),e.next=8,k();case 8:r=e.sent,O(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.error(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])}))),[n]),Object(j.jsxs)(l.a,{children:[Object(j.jsxs)("div",{className:"headerbar",children:[Object(j.jsx)("h1",{children:"Fitness Tracker"}),Object(j.jsxs)("div",{children:[Object(j.jsx)(l.b,{className:"navlink",to:"/",children:"Home"}),Object(j.jsx)(l.b,{className:"navlink",to:"/activities",children:"Activities"}),Object(j.jsx)(l.b,{className:"navlink",to:"/routines",children:"Routines"}),n?Object(j.jsx)(l.b,{className:"Link",to:"/createRoutine",children:"Create Routine"}):null,n?Object(j.jsx)(l.b,{className:"Link",to:"/myroutines",children:"My Routines"}):null,n?null:Object(j.jsx)(l.b,{className:"navlink",to:"/login",children:"Login"}),n?null:Object(j.jsx)(l.b,{className:"navlink",to:"/register",children:"Sign Up"})," ",n?Object(j.jsx)(l.b,{className:"Link",onClick:function(){localStorage.removeItem("token"),r(!1),alert("You have logged out")},to:"/",children:"Log Out"}):null]})]}),Object(j.jsx)("main",{children:Object(j.jsxs)(p.d,{children:[Object(j.jsx)(p.b,{exact:!0,path:"/",children:Object(j.jsx)(D,{})}),Object(j.jsx)(p.b,{path:"/login",children:Object(j.jsx)(I,{isLoggedIn:n,setIsLoggedIn:r})}),Object(j.jsx)(p.b,{path:"/register",children:Object(j.jsx)(A,{isLoggedIn:n,setIsLoggedIn:r})}),Object(j.jsx)(p.b,{path:"/activities",children:Object(j.jsx)(R,{isLoggedIn:n,currentUser:S,activities:f,setActivities:O})}),Object(j.jsx)(p.b,{path:"/routines",children:Object(j.jsx)(E,{})}),Object(j.jsx)(p.b,{path:"/myRoutines",children:Object(j.jsx)(P,{currentUser:S,activities:f,setActivities:O})}),Object(j.jsx)(p.b,{path:"/createRoutine",children:Object(j.jsx)(B,{})})]})})]})};u.a.render(Object(j.jsx)(J,{}),document.getElementById("app"))}},[[32,1,2]]]);
//# sourceMappingURL=main.80033a48.chunk.js.map